import{a as U,c as L}from"./chunk-RY5OHMWM.js";import{c as P}from"./chunk-NGXTSP7O.js";import{A as y,D as E,E as a,H as p,J as j,K as l,M as g,N as R,O as T,P as s,Q as i,R as d,U as C,X as o,Y as x,Z as O,c as S,da as q,ga as N,l as k,la as Q,m as b,na as F,r as m,s as D,w as v,y as M}from"./chunk-HFTH3AZB.js";import"./chunk-7CGTOI24.js";function h(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&D(h);let r=n?e?.injector?.get(v)??m(v):null,I=$(e?.equal),c;e?.requireSync?c=y({kind:0},{equal:I}):c=y({kind:1,value:e?.initialValue},{equal:I});let _=t.subscribe({next:u=>c.set({kind:1,value:u}),error:u=>{if(e?.rejectErrors)throw u;c.set({kind:2,error:u})}});if(e?.requireSync&&c().kind===0)throw new b(601,!1);return r?.onDestroy(_.unsubscribe.bind(_)),q(()=>{let u=c();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new b(601,!1)}},{equal:e?.equal})}function $(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var f=class t{issue=M.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=p({type:t,selectors:[["issue-comment"]],inputs:{issue:[1,"issue"]},decls:9,vars:3,consts:[[1,"w-full"],[1,"border","border-gray-200","mt-2","rounded-md","shadow-sm"],[1,"flex","items-center","bg-blue-500","text-white","p-2","rounded-t-md"],["alt","User avatar",1,"w-8","h-8","rounded-full",3,"src"],[1,"mx-2"],[1,"p-2","bg-gray-700","text-white"]],template:function(n,r){n&1&&(s(0,"div",0)(1,"div",1)(2,"div",2),d(3,"img",3),s(4,"span",4),o(5),i()(),s(6,"div",5)(7,"markdown"),o(8),i()()()()),n&2&&(a(3),l("src",r.issue().user.avatar_url,E),a(2),x(r.issue().user.login),a(3),x(r.issue().body))},dependencies:[L,U],encapsulation:2})};var H=(t,e)=>e.id;function z(t,e){t&1&&(s(0,"p"),o(1,"Cargando issue"),i())}function V(t,e){if(t&1&&d(0,"issue-comment",1),t&2){let n=C();l("issue",n.issueQuery.data())}}function B(t,e){t&1&&(s(0,"p"),o(1,"Cargando comentarios"),i())}function J(t,e){if(t&1&&d(0,"issue-comment",1),t&2){let n=e.$implicit;l("issue",n)}}function K(t,e){t&1&&(s(0,"p"),o(1,"No hay comentarios"),i())}function W(t,e){if(t&1&&R(0,J,1,1,"issue-comment",1,H,!1,K,2,0,"p"),t&2){let n=C();T(n.issueCommentsQuery.data())}}var w=class t{route=m(Q);issueService=m(P);issueNumber=h(this.route.paramMap.pipe(S(e=>e.get("number")??""),k(e=>this.issueService.setIssueNumber(e))));issueQuery=this.issueService.issueQuery;issueCommentsQuery=this.issueService.issueCommentsQuery;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=p({type:t,selectors:[["app-issue"]],decls:10,vars:3,consts:[["routerLink","/"],[3,"issue"]],template:function(n,r){n&1&&(s(0,"h1"),o(1," Issue number: "),s(2,"small"),o(3),i()(),s(4,"a",0),o(5,"Regresar"),i(),j(6,z,2,0,"p")(7,V,1,1,"issue-comment",1)(8,B,2,0,"p")(9,W,3,1)),n&2&&(a(3),O(" ",r.issueNumber()," "),a(3),g(r.issueQuery.data()===void 0?6:7),a(2),g(r.issueCommentsQuery.isLoading()?8:9))},dependencies:[N,F,f],encapsulation:2})};export{w as default};
